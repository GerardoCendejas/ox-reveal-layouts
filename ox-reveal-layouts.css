/* ox-reveal-layouts.css */

/* Styles to ensure consistent slide height and vertical centering */
.reveal .slides section {
    /* Consistent height for all slides */
    height: 600px !important; 
    /* Center content vertically and horizontally */
    display: flex !important;
    flex-direction: column;
    justify-content: flex-start; /* Align items to the top */
    align-items: center;
    box-sizing: border-box; /* Include padding and border in height calculation */
    padding: 0px !important; /* Remove default padding */
}

/* Ensure headings are pushed to the top */
.reveal .slides section h2, 
.reveal .slides section h3 {
    margin-bottom: 20px !important; /* Push headings to the top */
    margin-top: 0 !important;
    flex-shrink: 0; /* Prevent shrinking */
}

/* Main canvas container for slides */
.orf-slide-container {
    display: flex;       
    flex-direction: column;
    
    flex: 1;       /* Allow to grow and fill available space */
    width: 100%;
    height: 100%;

    padding-bottom: 50px; /* Space for citations */
    box-sizing: border-box; /* Include padding in height calculation */
    
    min-height: 0;
    align-items: center; /* Center content vertically */
    justify-content: center;
    overflow: hidden;
}

/* Figure Container */
.orf-figure {
    display: flex;
    flex-direction: column; /* Stack content vertically */
    height: 100%;           /* Fill the slide container */
    width: 100%;
    
    margin: 0 !important;
    align-items: center;
    justify-content: center;
    overflow: hidden;       /* Prevent anything from spilling out */
}

/* The Image - Flexible Size */
.orf-figure img {
    /* Flex logic: 
       1 = Grow (take available space)
       1 = Shrink (allow shrinking if needed)
       auto = Start from auto size */
    flex: 1 1 auto; 
    
    /* CRITICAL: Allows shrinking below intrinsic height */
    min-height: 0;  
    
    width: auto;
    max-width: 100%;
    height: auto !important; /* Override fixed height to allow flex to work */
    max-height: 100%;
    
    object-fit: contain;
    margin: 0 !important;
    box-shadow: none !important;
}

/* Figure Caption */
.orf-figure figcaption {
    flex: 0 0 auto; /* Do NOT grow, do NOT shrink */
    width: 100%;
    
    font-size: 0.6em !important;
    color: #666;
    margin-top: 10px !important;
    font-style: italic;
    text-align: center;
}

/* 2 Columns Layout */
.orf-layout-2-cols {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 20px;
    flex: 1;
    width: 100%;
    min-height: 0; 
    min-width: 0;
}

.orf-layout-2-cols .orf-img-fit {
    width: 100%;
    height: 100%;
    object-fit: contain; 
}

/* 4 Images Grid Layout */
.orf-layout-grid-4 {
    display: grid;
    grid-template-rows: repeat(2, minmax(0, 1fr));
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-rows: 1fr 1fr;
    gap: 15px;
    flex: 1;
    width: 100%;
    min-height: 0; 
    min-width: 0;
}

/* Text Container for 2 Columns Layout */
.orf-text-container {
    text-align: left;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center; /* Center text vertically */
    height: 100%;
}

/* For vertical layout */

/* Vertical Layout */
.orf-layout-vertical {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    align-items: center;
}

/* Text Styles */
.orf-vertical-text {
    width: 100%;
    text-align: center; 
    margin-bottom: 20px;
    flex: 0 0 auto; /* No grow, no shrink */
}

/* Image Styles */
.orf-vertical-img {
    flex: 1 1 auto; /* Allow to grow and shrink */
    min-height: 0;  /* Prevent overflow */
    width: 100%;
    display: flex;
    justify-content: center;
    overflow: hidden;
}

/* Pin Styles */
.orf-pin {
    position: absolute !important;
    z-index: 50; /* Over other content */
    
    /* Fixed size for pins */
    width: 150px !important;  /* Initial width */
    height: auto !important;  /* Height adjusts based on content */
    
    /* Remove any default styling */
    max-width: none !important; 
    max-height: none !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
}

/* Pin Positions */
.orf-pos-tl { top: 0px; left: 0px; }
.orf-pos-tr { top: 0px; right: 0px; }
.orf-pos-bl { bottom: 0px; left: 0px; }
.orf-pos-br { bottom: 0px; right: 0px; }

/* --- Footnotes / Citations --- */

/* Citation Style */
.orf-citation {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    
    /* Text Styles */
    font-size: 0.5em !important; /* Smaller font size */
    color: #666;                 /* Gray color */
    text-align: center;            /* Align left */
    
    /* Padding for readability */
    padding-left: 0px;
    padding-bottom: 0px;
    
    z-index: 10; /* Above slide content */
}

/* Citation Link Style */
.orf-citation a {
    color: #444 !important;
    text-decoration: underline;
}


